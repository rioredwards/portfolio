---
title: "DogTown"
slug: "dog-town"
icon: "/work/images/dog-town/logo-256.png"
description: "A self-hosted photo-sharing app: 5 Docker services, CI/CD, and an AI image validator, all on a Raspberry Pi"
category: "Web App"
skills:
  - "Next.js"
  - "Docker"
  - "Linux"
  - "Hono"
  - "Python"
image: "/work/images/dog-town/dog-town-screenshot.jpg"
brandColor: "#F5954E"
links:
  - text: "View Live Site"
    url: "https://pi.rioedwards.com/"
    icon: "globe"
  - text: "View Source"
    url: "https://github.com/rioredwards/pi-site"
    icon: "github"
order: 0
---

<LightboxGallery>

<LightboxImage
  src={ImgDogTownScreenshot}
  alt="Dog Town Screenshot"
  caption="DogTown Homepage"
  priority={true}
/>

DogTown is a self-hosted photo-sharing app running on my [Raspberry Pi](https://www.raspberrypi.com). The theme is dogs, because dogs play a big part in my life. üê∂

Under the hood it's five containerized services, a CI/CD pipeline, and a reverse proxy, all running on a single-board computer on my desk.

---

## Tech Stack

<LightboxImage
  src={ImgDogTownTechStack}
  alt="Diagram showing the tech stack powering this site"
  caption="DogTown Architecture"
  priority={true}
/>

<Table
  data={{
    headers: ["Layer", "Technology"],
    rows: [
      ["OS", 'Raspberry Pi OS (Debian GNU/Linux "trixie")'],
      ["Tunnel", "Cloudflare Tunnel"],
      [
        "Web",
        "Next.js, React, TypeScript, Tailwind CSS, shadcn/ui, Three.js, MDX, Drizzle ORM, NextAuth.js",
      ],
      ["Database", "PostgreSQL"],
      ["AI Validation", "Python, FastAPI, OpenNSFW, PyTorch"],
      ["System Profiler", "Hono, TypeScript, Node.js"],
      [
        "Infra",
        "Docker, Docker Compose, GitHub Actions, Bash/JavaScript helper scripts, NGINX (reverse proxy + caching)",
      ],
      ["Analytics", "Umami"],
    ],
  }}
/>

---

## Core App

The main app is a full-stack **Next.js** site with auth via **NextAuth**, client-side image compression (plus HEIC conversion for iPhone uploads), and a live system dashboard. **PostgreSQL** with **Drizzle ORM** handles data.

---

## DogBot: AI Image Validation

Anyone can upload photos, so the content needs to stay on-brand and safe for all audiences. I built **DogBot**: a dedicated AI image validation service.

It runs on a **FastAPI** server with **OpenNSFW** for content moderation and **PyTorch/TorchVision** for dog detection. The API returns `isDog` and `isNSFW` as simple booleans. I designed it as its own service so it could evolve independently without bloating the main container.

<LightboxVideo
  src="/work/images/dog-town/DogBot-Demo.mp4"
  caption="apparently hammers are not dogs... thanks DogBot!"
  className="w-full rounded-lg"
/>

---

## System Profiler

This started as a way to peek under the hood. A small **Hono** + **Node.js** service pulls metrics from the Pi and Docker containers and streams them to the frontend over **SSE**. It grew into its own page with a **Recharts** dashboard and a 3D Raspberry Pi model in **Three.js** for some visual flair.

<LightboxImage
  src={ImgDogTownDashboardScreenshot}
  alt="DogTown Dashboard Screenshot"
  caption="DogTown Dashboard"
/>

---

## Infrastructure

### Containerization

Everything runs in isolated **Docker** containers wired together with **Docker Compose**. Dev, staging, and production environments stay in sync. I also have utility scripts for manual deployments, updates, and maintenance when I need to SSH in.

### CI/CD

**GitHub Actions** automates builds and deployments so updates are consistent and low-stress. If I can't deploy confidently, I stop shipping. The CI/CD pipeline is what keeps this hobby project alive long-term.

### Reverse Proxy + Caching

**Nginx** sits in front caching images and static assets. Easy way to reduce load on the Pi and keep response times reasonable.

### Networking

DogTown is exposed to the internet through **Cloudflare Tunnel**, so I didn't have to set up port forwarding on my router. It also provides DDoS protection and TLS/SSL termination for free.

### Analytics

**Umami** handles analytics. Self-hosted, privacy-friendly, runs in its own container on a separate subdomain through the tunnel.

---

## Final Thoughts

There's something satisfying about owning the full stack, from the code to the hardware sitting on my desk. No cloud provider between me and my deploys.

Thanks for reading! ‚ù§Ô∏è

[Back Home](/)

<LightboxImage
  src={ImgDogTownMeWithPups}
  alt="Me with pups"
  caption="Bonus: Me with some of my favorite pups"
/>

</LightboxGallery>
